<!doctype html>



































<html
  class="not-ready lg:text-base"
  style="--bg: #faf8f1"
  lang="en-us"
  dir="ltr"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, shrink-to-fit=no"
  />

  
  <title>Adding an RSS Feed to My Site - Mildly Journaling</title>

  
  <meta name="theme-color" />

  
  
  
  
  <meta name="description" content="I recently decided to add an RSS feed to my Hugo website. While it seemed straightforward at first, I ran into several gotchas that taught me more about Hugo&rsquo;s RSS system than I expected to learn.
The simple solution that wasn&rsquo;t quite right
My Hugo theme, Paper, advertises built-in RSS support. I initially tried their default RSS configuration, but it had two problems:

The feed only included snippets of each post instead of the full content. This meant subscribers had to click through to my site to read complete articles.
The feed included everything from my website, including non-article pages like my About page. I wanted the feed to focus only on my blog posts.

I could have lived with these limitations, but I prefer to give my readers the best possible experience. For me, that means allowing them to read full articles directly in their RSS reader." />
  <meta name="author" content="Mildly Journaling" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="https://www.mildlyjournaling.com/main.min.css" />

  
  
  
  
  
  <link rel="preload" as="image" href="https://www.mildlyjournaling.com/theme.png" />

  
  
  
  
  

  
  
  <link rel="preload" as="image" href="https://www.mildlyjournaling.com/rss.svg" />
  
  

  
  
  <script
    defer
    src="https://www.mildlyjournaling.com/highlight.min.js"
    onload="hljs.initHighlightingOnLoad();"
  ></script>
  

  
  
  

  
  <link
    rel="icon"
    href="https://www.mildlyjournaling.com/favicon.ico"
  />
  <link
    rel="apple-touch-icon"
    href="https://www.mildlyjournaling.com/apple-touch-icon.png"
  />

  
  <meta name="generator" content="Hugo 0.144.2">

  
  
  
  
  
  
  <meta itemprop="name" content="Adding an RSS Feed to My Site">
  <meta itemprop="description" content="I recently decided to add an RSS feed to my Hugo website. While it seemed straightforward at first, I ran into several gotchas that taught me more about Hugo’s RSS system than I expected to learn.
The simple solution that wasn’t quite right My Hugo theme, Paper, advertises built-in RSS support. I initially tried their default RSS configuration, but it had two problems:
The feed only included snippets of each post instead of the full content. This meant subscribers had to click through to my site to read complete articles. The feed included everything from my website, including non-article pages like my About page. I wanted the feed to focus only on my blog posts. I could have lived with these limitations, but I prefer to give my readers the best possible experience. For me, that means allowing them to read full articles directly in their RSS reader.">
  <meta itemprop="datePublished" content="2025-02-22T20:37:30-08:00">
  <meta itemprop="dateModified" content="2025-02-22T20:37:30-08:00">
  <meta itemprop="wordCount" content="671">
  <meta itemprop="keywords" content="howto,blog-setup,cloudflare-pages,rss,hugo">
  
  <meta property="og:url" content="https://www.mildlyjournaling.com/posts/add-rss-to-my-site/">
  <meta property="og:site_name" content="Mildly Journaling">
  <meta property="og:title" content="Adding an RSS Feed to My Site">
  <meta property="og:description" content="I recently decided to add an RSS feed to my Hugo website. While it seemed straightforward at first, I ran into several gotchas that taught me more about Hugo’s RSS system than I expected to learn.
The simple solution that wasn’t quite right My Hugo theme, Paper, advertises built-in RSS support. I initially tried their default RSS configuration, but it had two problems:
The feed only included snippets of each post instead of the full content. This meant subscribers had to click through to my site to read complete articles. The feed included everything from my website, including non-article pages like my About page. I wanted the feed to focus only on my blog posts. I could have lived with these limitations, but I prefer to give my readers the best possible experience. For me, that means allowing them to read full articles directly in their RSS reader.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-02-22T20:37:30-08:00">
    <meta property="article:modified_time" content="2025-02-22T20:37:30-08:00">
    <meta property="article:tag" content="howto">
    <meta property="article:tag" content="blog-setup">
    <meta property="article:tag" content="cloudflare-pages">
    <meta property="article:tag" content="rss">
    <meta property="article:tag" content="hugo">

  
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Adding an RSS Feed to My Site">
  <meta name="twitter:description" content="I recently decided to add an RSS feed to my Hugo website. While it seemed straightforward at first, I ran into several gotchas that taught me more about Hugo’s RSS system than I expected to learn.
The simple solution that wasn’t quite right My Hugo theme, Paper, advertises built-in RSS support. I initially tried their default RSS configuration, but it had two problems:
The feed only included snippets of each post instead of the full content. This meant subscribers had to click through to my site to read complete articles. The feed included everything from my website, including non-article pages like my About page. I wanted the feed to focus only on my blog posts. I could have lived with these limitations, but I prefer to give my readers the best possible experience. For me, that means allowing them to read full articles directly in their RSS reader.">

  
  

  
  <link rel="canonical" href="https://www.mildlyjournaling.com/posts/add-rss-to-my-site/" />
  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    <header class="mx-auto flex h-[4.5rem] max-w-[--w] px-8 lg:justify-center">
  <div class="relative z-50 ltr:mr-auto rtl:ml-auto flex items-center">
    <a class="-translate-y-[1px] text-2xl font-medium" href="https://www.mildlyjournaling.com/"
      >Mildly Journaling</a
    >
    <div
      class="btn-dark text-[0] ltr:ml-4 rtl:mr-4 h-6 w-6 shrink-0 cursor-pointer [background:url(./theme.png)_left_center/_auto_theme('spacing.6')_no-repeat] [transition:_background-position_0.4s_steps(5)] dark:[background-position:right]"
      role="button"
      aria-label="Dark"
    ></div>
  </div>

  <div
    class="btn-menu relative z-50 ltr:-mr-8 rtl:-ml-8 flex h-[4.5rem] w-[5rem] shrink-0 cursor-pointer flex-col items-center justify-center gap-2.5 lg:hidden"
    role="button"
    aria-label="Menu"
  ></div>

  

  <script>
    
    const htmlClass = document.documentElement.classList;
    setTimeout(() => {
      htmlClass.remove('not-ready');
    }, 10);

    
    const btnMenu = document.querySelector('.btn-menu');
    btnMenu.addEventListener('click', () => {
      htmlClass.toggle('open');
    });

    
    const metaTheme = document.querySelector('meta[name="theme-color"]');
    const lightBg = '#faf8f1'.replace(/"/g, '');
    const setDark = (isDark) => {
      metaTheme.setAttribute('content', isDark ? '#000' : lightBg);
      htmlClass[isDark ? 'add' : 'remove']('dark');
      localStorage.setItem('dark', isDark);
    };

    
    const darkScheme = window.matchMedia('(prefers-color-scheme: dark)');
    if (htmlClass.contains('dark')) {
      setDark(true);
    } else {
      const darkVal = localStorage.getItem('dark');
      setDark(darkVal ? darkVal === 'true' : darkScheme.matches);
    }

    
    darkScheme.addEventListener('change', (event) => {
      setDark(event.matches);
    });

    
    const btnDark = document.querySelector('.btn-dark');
    btnDark.addEventListener('click', () => {
      setDark(localStorage.getItem('dark') !== 'true');
    });
  </script>

  <div
    class="nav-wrapper fixed inset-x-0 top-full z-40 flex h-full select-none flex-col justify-center pb-16 duration-200 dark:bg-black lg:static lg:h-auto lg:flex-row lg:!bg-transparent lg:pb-0 lg:transition-none"
  >
    
    
    <nav class="lg:ml-12 lg:flex lg:flex-row lg:items-center lg:space-x-10 rtl:space-x-reverse">
      
      <a
        class="block text-center text-xl leading-[5rem] lg:text-base lg:font-normal"
        href="/about/"
        >About</a
      >
      
    </nav>
    

    
    <nav
      class="mt-12 flex justify-center space-x-10 rtl:space-x-reverse dark:invert ltr:lg:ml-14 rtl:lg:mr-14 lg:mt-0 lg:items-center"
    >
      
      <a
        class="h-7 w-7 text-[0] [background:var(--url)_center_center/cover_no-repeat] lg:h-6 lg:w-6"
        style="--url: url(./rss.svg)"
        href="https://www.mildlyjournaling.com/posts/index.xml"
        target="_blank"
        rel="alternate"
      >
        rss
      </a>
      
    </nav>
    
  </div>
</header>


    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100vh-9rem)] max-w-[--w] px-8 pb-16 pt-14 dark:prose-invert"
    >
      

<article>
  <header class="mb-14">
    <h1 class="!my-0 pb-2.5">Adding an RSS Feed to My Site</h1>

    
    <div class="text-xs antialiased opacity-60">
      
      <time>Feb 22, 2025</time>
      
      
      
      
    </div>
    
  </header>

  <section><p>I recently decided to add an RSS feed to my Hugo website. While it seemed straightforward at first, I ran into several gotchas that taught me more about Hugo&rsquo;s RSS system than I expected to learn.</p>
<h2 id="the-simple-solution-that-wasnt-quite-right">The simple solution that wasn&rsquo;t quite right</h2>
<p>My Hugo theme, Paper, advertises built-in RSS support. I initially tried their <a href="https://github.com/nanxiaobei/hugo-paper?tab=readme-ov-file#options">default RSS configuration</a>, but it had two problems:</p>
<ol>
<li>The feed only included snippets of each post instead of the full content. This meant subscribers had to click through to my site to read complete articles.</li>
<li>The feed included everything from my website, including non-article pages like my About page. I wanted the feed to focus only on my blog posts.</li>
</ol>
<p>I could have lived with these limitations, but I prefer to give my readers the best possible experience. For me, that means allowing them to read full articles directly in their RSS reader.</p>
<h2 id="creating-a-custom-rss-template">Creating a custom RSS template</h2>
<p>To fix these issues, I needed to create my own RSS template. Hugo&rsquo;s <a href="https://gohugo.io/templates/rss/">RSS documentation</a> pointed me to their <a href="https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/_default/rss.xml">default RSS template</a>, which I could use as a starting point.</p>
<p>Here&rsquo;s where I learned something interesting about Hugo: it has two different types of RSS feeds. There&rsquo;s a &ldquo;home&rdquo; feed that includes all content and a &ldquo;section&rdquo; feed that only includes content from a specific section of your site.</p>
<p>Since I wanted my feed to include only blog posts, I created a template called <code>section.rss.xml</code> rather than <code>home.rss.xml</code>. This tells Hugo to generate the feed only for my &ldquo;posts&rdquo; section.</p>
<p>The modification to include full content instead of snippets was surprisingly simple. I just had to change one line in the template:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;description&gt;</span>{% raw %}{{ .Content | transform.XMLEscape | safeHTML }}{% endraw %}<span style="color:#f92672">&lt;/description&gt;</span>
</span></span></code></pre></div><p>The key change was replacing <code>.Summary</code> with <code>.Content</code>. This tells Hugo to include the complete article text in the feed instead of just a preview.</p>
<h2 id="an-unexpected-build-failure">An unexpected build failure</h2>
<p>Just when I thought I was done, Cloudflare Pages refused to build my site. The error message was cryptic:</p>
<pre tabindex="0"><code>Error: can&#39;t evaluate field XMLEscape in type interface {}
</code></pre><p>After some digging, I discovered that the <code>XMLEscape</code> function I was using wasn&rsquo;t available in the version of Hugo (v0.118.2) that Cloudflare Pages was using. The function was only added in Hugo v0.121.0.</p>
<p>Fortunately, Cloudflare Pages lets you <a href="https://developers.cloudflare.com/pages/framework-guides/deploy-a-hugo-site/#use-a-specific-or-newer-hugo-version">specify which Hugo version to use</a>. I added this to my build configuration <code>HUGO_VERSION = &quot;v0.144.2&quot;</code>.</p>
<h2 id="one-last-tweak-fixing-the-rss-icon">One last tweak: fixing the RSS icon</h2>
<p>With the build working, I noticed one final issue: the RSS icon in my site&rsquo;s header still pointed to the home feed (<code>/index.xml</code>) instead of my new section feed (<code>/posts/index.xml</code>).</p>
<p>To fix this, I needed to override the theme&rsquo;s header template. I copied the theme&rsquo;s <code>layouts/partials/header.html</code> to my site and modified the RSS link from <code>index.xml</code> to <code>posts/index.xml</code>:</p>
<pre tabindex="0"><code>href=&#34;{{ if eq . `rss` }}
        {{ `posts/index.xml` | absURL }} &lt;--- change this line
      {{ else if eq . `mastodon` }}
        {{ index site.Params . }}
      {{ else }}
        {{ if eq . `threads` }}
          https://threads.net/
        {{ else if eq . `bluesky` }}
          https://bsky.app/profile/
          {{ else }}
            https://{{ . }}.com/
          {{ if eq . `linkedin` }}
            in/
          {{ end }}
        {{ end }}
        {{ index site.Params . }}
      {{ end }}&#34;
</code></pre><p>This way, it generates the URL to be <code>{my-website-url}/posts/index.xml</code>, instead of <code>{my-website-url}/index.xml</code>.</p>
<h2 id="the-end-result">The end result</h2>
<p>After these changes, my site now has exactly the RSS feed I wanted:</p>
<ul>
<li>Full article content in the feed</li>
<li>Only blog posts (no auxiliary pages)</li>
<li>Proper RSS icon linking to the correct feed URL</li>
</ul>
<p>While this took more work than I expected, I&rsquo;m happy with the result. My readers can now enjoy my full articles directly in their RSS readers, which is exactly what I wanted.</p>
<p>The whole process taught me quite a bit about Hugo&rsquo;s RSS system and reminded me that even seemingly simple features can require diving deeper into a framework&rsquo;s internals than you might expect.</p>
<p>Let me know in the comments if you&rsquo;ve had similar experiences setting up RSS feeds, or if you have any questions about the process!</p>
</section>

  
  
  <footer class="mt-12 flex flex-wrap">
     
    <a
      class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://www.mildlyjournaling.com/tags/howto"
      >howto</a
    >
     
    <a
      class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://www.mildlyjournaling.com/tags/blog-setup"
      >blog-setup</a
    >
     
    <a
      class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://www.mildlyjournaling.com/tags/cloudflare-pages"
      >cloudflare-pages</a
    >
     
    <a
      class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://www.mildlyjournaling.com/tags/rss"
      >rss</a
    >
     
    <a
      class="mb-1.5 ltr:mr-1.5 rtl:ml-1.5 rounded-lg bg-black/[3%] px-5 py-1 no-underline hover:bg-black/[6%] dark:bg-white/[8%] dark:hover:bg-white/[12%]"
      href="https://www.mildlyjournaling.com/tags/hugo"
      >hugo</a
    >
    
  </footer>
  

  
  
  
  
  <nav
    class="mt-24 flex overflow-hidden rounded-xl bg-black/[3%] text-lg !leading-[1.2] *:flex *:w-1/2 *:items-center *:p-5 *:font-medium *:no-underline dark:bg-white/[8%] [&>*:hover]:bg-black/[2%] dark:[&>*:hover]:bg-white/[3%]"
  >
    
    <a class="ltr:pr-3 rtl:pl-3" href="https://www.mildlyjournaling.com/posts/stratechery-netflix-earnings-q4-24/"
      ><span class="ltr:mr-1.5 rtl:ml-1.5">←</span><span>Reading Stratechery analysis on Netflix Earnings Q4 2024</span></a
    >
    
    
    <a class="ltr:ml-auto rtl:mr-auto justify-end pl-3" href="https://www.mildlyjournaling.com/posts/add-tags/"
      ><span>How I add tags to the posts</span><span class="ltr:ml-1.5 rtl:mr-1.5">→</span></a
    >
    
  </nav>
  
  

  
  

  
  

  


  
</article>


    </main>

    <footer
  class="mx-auto flex h-[4.5rem] max-w-[--w] items-center px-8 text-xs uppercase tracking-wider opacity-60"
>
  <div class="mr-auto">
  
    &copy; 2025
    <a class="link" href="https://www.mildlyjournaling.com/">Mildly Journaling</a>
  
  </div>
  <a class="link mx-6" href="https://gohugo.io/" rel="noopener" target="_blank"
    >powered by hugo️️</a
  >️
  <a
    class="link"
    href="https://github.com/nanxiaobei/hugo-paper"
    rel="noopener"
    target="_blank"
    >hugo-paper</a
  >
</footer>

  </body>
</html>
